<html>
    <head><title>Metronomo</title>
        <link rel="stylesheet" href="metronomo.css"></head>
    <body>
        <h1>80 bpm</h1>
        <button id="play">Play</button>
        <input type ="range" min="40" max="218" value="80" id=" bpm"/>
        <input type ="number" min="40" max="218" value="80" id=" bpm"/>
        <button id="minima">Minima</button>
        <button id="seminima">Seminima</button>
        <button id="colcheia">Colcheia</button>
        <button id="semicolcheia">Semicolcheia</button>
        <audio src="chocalho1.wav"></audio>
        <audio src="bum.wav"id="tum"></audio>
        <audio src="pa.wav"id="ta"></audio>
        <audio src="chocalho1.wav" id="audio"></audio>
        <button id="bum"class="bum">Bum</button>
        <audio src="pe.wav" id="pe"></audio>
        <button id="pa"class="pa">Pa</button>
        <script>
            const bpm = document.getElementById(' bpm');
            const h1 = document.querySelector('h1')
            const play = document.getElementById('play')
            const minima = document.getElementById('minima')
            const seminima = document.getElementById('seminima')
            const colcheia = document.getElementById('colcheia')
            const semicolcheia = document.getElementById('semicolcheia')   
            const audio = document.getElementById('audio')
            const bum = document.getElementById('bum')
            const tum = document.getElementById('tum')
            const pa = document.getElementById('pa')
            const pe = document.getElementById('pe')
            const ta = document.getElementById('ta')
      
            
            let currentBpm= 80
            let isPlaying = false
            let isSeminima = false
            let tempo = 0
            let time = false
            let timer = null


            function tick(){     
                audio.currentTime = 0
                audio.play()
            }
            function pes(){     
                pe.currentTime = 0
                pe.play()
            }
            function dum(){     
                tum.currentTime = 0
                tum.play()
            }

            bpm.addEventListener('change', function(){
                h1.innerHTML = this.value + ' bpm'
                currentBpm = parseInt(this.value)
                if (isPlaying){
                clearInterval(timer)
                timer = setInterval(tick,(60*1000)/currentBpm)
            }
            })
            play.addEventListener('click',function(){
                if (isPlaying){
                    play.innerHTML = 'Play'
                    clearInterval(timer)
                }else{
                    play.innerHTML = 'Stop'
                    tick()
                    pes()
                    if(tempo===0){
                timer = setInterval(pes,((60*1000)/currentBpm*2))}
                    if(tempo===1){
                timer = setInterval(tick,((60*1000)/currentBpm))
                timer = setInterval(pes,((60*1000)/currentBpm*4))}
                if(tempo===2){
                timer = setInterval(tick,((60*1000)/currentBpm/2))
                timer = setInterval(pes,((60*1000)/currentBpm*4))}
                if(tempo===3){
                timer = setInterval(tick,((60*1000)/currentBpm/4))
              //  timer = setInterval(pes,((60*1000)/currentBpm*2))
              timer = setInterval(pes,((60*1000)/currentBpm*4))}
            }
        isPlaying=!isPlaying
    })
    minima.addEventListener('click', function(){
        tempo=0
        clearInterval(timer)
        isPlaying= false
        play.innerHTML = 'Play'
            })

    seminima.addEventListener('click', function(){
        tempo=1
        clearInterval(timer)
        isPlaying= false
        play.innerHTML = 'Play'
            })

    colcheia.addEventListener('click', function(){
        tempo=2
        clearInterval(timer)
        isPlaying= false
        play.innerHTML = 'Play'
            })

    semicolcheia.addEventListener('click', function(){
        tempo=3
        clearInterval(timer)
        isPlaying= false
        play.innerHTML = 'Play'
            })

    bum.addEventListener('click', function(){
        tum.currentTime = 0
                tum.play()
            })
            pa.addEventListener('click', function(){
        ta.currentTime = 0
                ta.play()
            })
            
    

        </script>
    </body>
</html>
